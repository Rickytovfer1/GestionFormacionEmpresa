<!DOCTYPE html>
<html lang="es" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Importar Alumnos</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item" sec:authorize="hasRole('DIRECTIVO')">
                    <a class="nav-link" th:href="@{/profesor/listaProfesores}">Profesores</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/alumno/listaAlumnos}">Alumnos</a>
                </li>
                <li class="nav-item" sec:authorize="hasRole('DIRECTIVO')">
                    <a class="nav-link" th:href="@{/curso/listaCursos}">Cursos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/empresa/listaEmpresas}">Empresas</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/practica/listaPracticas}">Prácticas</a>
                </li>
            </ul>

            <div class="d-flex"
                 th:if="${#authorization.expression('isAuthenticated()')}">

                <form th:action="@{/logout}" method="post" class="mb-0">
                    <input type="hidden"
                           th:name="${_csrf.parameterName}"
                           th:value="${_csrf.token}" />

                    <button type="submit"
                            class="btn btn-outline-light btn-sm">
                        Cerrar sesión
                    </button>
                </form>

            </div>

        </div>
    </div>
</nav>

<div class="container mt-5">

    <div class="row justify-content-center">
        <div class="col-md-6">

            <div class="card shadow">
                <div class="card-header bg-warning text-dark">
                    <h4 class="mb-0">Importar alumnos desde CSV</h4>
                </div>

                <div class="card-body">

                    <form th:action="@{/alumno/importar}"
                          method="post"
                          enctype="multipart/form-data">

                        <div class="mb-3">
                            <label class="form-label">Curso:</label>
                            <select name="idCurso" class="form-select" required>
                                <option value="" disabled selected>Seleccione un curso</option>
                                <option th:each="curso : ${cursos}"
                                        th:value="${curso.id}"
                                        th:text="${curso.nombre}">
                                </option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Archivo CSV:</label>
                            <input type="file"
                                   name="archivo"
                                   class="form-control"
                                   accept=".csv"
                                   required>
                        </div>

                        <div class="d-grid">
                            <button type="submit" class="btn btn-warning">
                                Importar datos
                            </button>
                        </div>

                    </form>

                </div>
            </div>

            <div class="mt-3 text-center">
                <a th:href="@{/alumno/listaAlumnos}" class="btn btn-secondary">
                    Volver
                </a>
            </div>

        </div>
    </div>

</div>

</body>
</html>
